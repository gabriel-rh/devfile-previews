{"pageProps":{"markdoc":{"content":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":["Create command groups to help automate your devfile."]},{"$$mdtype":"Tag","name":"h2","attributes":{"id":"prerequisites"},"children":["Prerequisites"]},{"$$mdtype":"Tag","name":"ul","attributes":{},"children":[{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":[{"$$mdtype":"Tag","name":"Link","attributes":{"href":"./versions"},"children":["Adding schema version"]}]}]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":[{"$$mdtype":"Tag","name":"Link","attributes":{"href":"./metadata"},"children":["Adding a name"]}]}]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":[{"$$mdtype":"Tag","name":"Link","attributes":{"href":"./adding-projects"},"children":["Adding projects"]}]}]}]},{"$$mdtype":"Tag","name":"h2","attributes":{"id":"procedure"},"children":["Procedure"]},{"$$mdtype":"Tag","name":"ol","attributes":{},"children":[{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":["Assign a given command to one or more groups that represent the"," ","nature of the command."]}]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":["Use the following supported group kinds:"]},{"$$mdtype":"Tag","name":"ul","attributes":{},"children":[{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":[{"$$mdtype":"Tag","name":"code","attributes":{},"children":["build"]}]}]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":[{"$$mdtype":"Tag","name":"code","attributes":{},"children":["run"]}]}]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":[{"$$mdtype":"Tag","name":"code","attributes":{},"children":["test"]}]}]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":[{"$$mdtype":"Tag","name":"code","attributes":{},"children":["debug"]}]}]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":[{"$$mdtype":"Tag","name":"code","attributes":{},"children":["deploy"]}]}]}]}]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":["At most, there can only be one default command for each group kind."," ","Set the default command by specifying a ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["true"]}," value for"," ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["isDefault"]},"."]},{"$$mdtype":"Tag","name":"Fence","attributes":{"language":"yaml","filename":"devfile.yaml"},"children":["schemaVersion: 2.2.0\nmetadata:\n  name: mydevfile\nprojects:\n  - name: my-maven-project\n    clonePath: maven/src/github.com/acme/my-maven-project\n    git:\n      remotes:\n        origin: 'https://github.com/acme/my-maven-project.git'\ncomponents:\n  - name: maven\n    container:\n      image: eclipse/maven-jdk8:latest\n      mountSources: true\n      command: ['tail']\ncommands:\n  - id: package\n    exec:\n      component: maven\n      commandLine: 'mvn package'\n      group:\n        kind: build\n  - id: install\n    exec:\n      component: maven\n      commandLine: 'mvn install'\n      group:\n        kind: build\n        isDefault: true\n"]}]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":["Use the ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["deploy"]}," kind to reference a deploy command for an outerloop"," ","scenario."]},{"$$mdtype":"Tag","name":"Fence","attributes":{"language":"yaml","filename":"devfile.yaml"},"children":["schemaVersion: 2.2.0\nmetadata:\n  name: python\n  version: 1.0.0\n  provider: Red Hat\n  supportUrl: https://github.com/devfile-samples/devfile-support#support-information\n  attributes:\n    alpha.dockerimage-port: 8081\nparent:\n  id: python\n  registryUrl: 'https://registry.devfile.io'\ncomponents:\n  - name: outerloop-build\n    image:\n      imageName: python-image:latest\n      dockerfile:\n        uri: docker/Dockerfile\n        buildContext: .\n        rootRequired: false\n  - name: outerloop-deploy\n    kubernetes:\n      uri: outerloop-deploy.yaml\ncommands:\n  - id: build-image\n    apply:\n      component: outerloop-build\n  - id: deployk8s\n    apply:\n      component: outerloop-deploy\n  - id: deploy\n    composite:\n      commands:\n        - build-image\n        - deployk8s\n      group:\n        kind: deploy\n        isDefault: true\n"]}]}]}],"frontmatter":{"title":"Adding a command group","description":"Adding a command group"},"file":{"path":"/docs/2.2.0-alpha/adding-a-command-group.md"}}},"__N_SSG":true}