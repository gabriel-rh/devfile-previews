{"pageProps":{"markdoc":{"content":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":["This section describes how to define endpoints and specify their"," ","properties."]},{"$$mdtype":"Tag","name":"h2","attributes":{"id":"procedure"},"children":["Procedure"]},{"$$mdtype":"Tag","name":"ol","attributes":{},"children":[{"$$mdtype":"Tag","name":"li","attributes":{},"children":["Specify endpoints properties as shown in the following example:"]}]},{"$$mdtype":"Tag","name":"Fence","attributes":{"language":"yaml","title":"Specifying endpoint properties","filename":"devfile.yaml"},"children":["schemaVersion: 2.2.0\nmetadata:\n  name: mydevfile\nprojects:\n  - name: my-go-project\n    clonePath: go/src/github.com/acme/my-go-project\n    git:\n      remotes:\n        origin: 'https://github.com/acme/my-go-project.git'\ncomponents:\n  - name: go\n    container:\n      image: golang\n      memoryLimit: 512Mi\n      mountSources: true\n      command: ['sleep', 'infinity']\n      env:\n        - name: gopath\n          value: $(PROJECTS_ROOT)/go\n        - name: gocache\n          value: /tmp/go-cache\n      endpoints:\n        - name: web\n          targetPort: 8080\n          exposure: public\n  - name: postgres\n    container:\n      image: postgres\n      memoryLimit: 512Mi\n      env:\n        - name: postgres_user\n          value: user\n        - name: postgres_password\n          value: password\n        - name: postgres_db\n          value: database\n      endpoints:\n        - name: postgres\n          targetPort: 5432\n          exposure: none\n"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["This example has two containers that each define an endpoint. An"," ","endpoint has a name and a port that can be made accessible inside the"," ","workspace. The server running inside the container is listening on this"," ","port. See the following attributes that you can set on the endpoint:"]},{"$$mdtype":"Tag","name":"ul","attributes":{},"children":[{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":[{"$$mdtype":"Tag","name":"code","attributes":{},"children":["exposure"]},": When its value is ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["public"]},", the endpoint is accessible"," ","outside the workspace and is exposed on port ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["80"]}," or ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["443"]}," depending"," ","on whether TLS is enabled in devfiles. Access this endpoint from the"," ","devfile user interface."]}]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":[{"$$mdtype":"Tag","name":"code","attributes":{},"children":["protocol"]},": For public endpoints, the protocol indicates to the"," ","devfile consumer how to construct the URL for the endpoint access."," ","Typical values are ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["http"]},", ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["https"]},", ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["ws"]},", ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["wss"]},"."]}]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":[{"$$mdtype":"Tag","name":"code","attributes":{},"children":["secure"]},": Boolean. The default value is ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["false"]},". Setting this value"," ","to ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["true"]}," puts the endpoint behind a JWT proxy. When the endpoint is"," ","secured this way, clients must supply a JWT workspace token to call"," ","this endpoint. The JWT proxy is deployed in the same Pod as the"," ","server and assumes the server listens only on the local loopback"," ","interface, such as ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["127.0.0.1"]},"."]},{"$$mdtype":"Tag","name":"Callout","attributes":{"title":"Warning!","type":"warning"},"children":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":["Listening on any other interface than the local loopback poses a"," ","security risk. Such a server is accessible without the JWT"," ","authentication within the cluster network on the corresponding IP"," ","addresses."]}]}]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":[{"$$mdtype":"Tag","name":"code","attributes":{},"children":["path"]},": The URL of the endpoint."]}]}]},{"$$mdtype":"Tag","name":"h2","attributes":{"id":"specifying-endpoints-for-kubernetes-or-openshift-types"},"children":["Specifying endpoints for ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["kubernetes"]}," or ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["openshift"]}," types"]},{"$$mdtype":"Tag","name":"Fence","attributes":{"language":"yaml","filename":"devfile.yaml"},"children":["schemaVersion: 2.2.0\nmetadata:\n  name: mydevfile\ncomponents:\n  - openshift:\n      name: webapp\n      uri: webapp.yaml\n      endpoints:\n        - name: 'web'\n          targetPort: 8080\n          exposure: public\n  - openshift:\n      name: mongo\n      uri: mongo-db.yaml\n      endpoints:\n        - name: 'mongo-db'\n          targetPort: 27017\n          exposure: public\n"]}],"frontmatter":{"title":"Defining endpoints","description":"Defining endpoints"},"file":{"path":"/docs/2.2.0-alpha/defining-endpoints.md"}}},"__N_SSG":true}