{"pageProps":{"markdoc":{"content":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":["You can add either a ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["kubernetes"]}," or ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["openshift"]}," component to a devfile."]},{"$$mdtype":"Tag","name":"h2","attributes":{"id":"prerequisites"},"children":["Prerequisites"]},{"$$mdtype":"Tag","name":"ul","attributes":{},"children":[{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":[{"$$mdtype":"Tag","name":"Link","attributes":{"href":"./versions"},"children":["Adding schema version"]}]}]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":[{"$$mdtype":"Tag","name":"Link","attributes":{"href":"./metadata"},"children":["Adding a name"]}]}]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":[{"$$mdtype":"Tag","name":"Link","attributes":{"href":"./adding-components"},"children":["Adding components"]}]}]}]},{"$$mdtype":"Tag","name":"h2","attributes":{"id":"procedure"},"children":["Procedure"]},{"$$mdtype":"Tag","name":"ol","attributes":{},"children":[{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":["Define a component using the ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["kubernetes"]}," or ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["openshift"]}," property."]}]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":["Provide the content through the ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["uri"]}," or ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["inlined"]}," property."]},{"$$mdtype":"Tag","name":"Fence","attributes":{"language":"yaml","title":"Adding an openshift component using the uri property","filename":"devfile.yaml"},"children":["components:\n  - name: mysql\n    openshift:\n      uri: petclinic.yaml\n"]},{"$$mdtype":"Tag","name":"Fence","attributes":{"language":"yaml","title":"Adding a kubernetes component using the inlined property","filename":"devfile.yaml"},"children":["components:\n- name: myk8deploy\n  kubernetes:\n    inlined:\n      apiVersion: batch/v1\n      kind: Job\n      metadata:\n        name: pi\n      spec:\n        template:\n          spec:\n            containers:\n            - name: job\n              image: myimage\n              command: [\"some\",  \"command\"]\n            restartPolicy: Never\n"]}]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":["Specify the endpoint through the endpoint property with ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["kubernetes"]}," ","or ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["openshift"]}," components."]}]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":["By default ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["kubernetes"]}," or ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["openshift"]}," components are not going to"," ","be deployed. Specify ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["deployByDefault=true"]}," if you want to apply the"," ","component at start up."]}]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":["Associate ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["kubernetes"]}," or ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["openshift"]}," components with ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["Apply"]}," ","commands wth ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["deploy"]}," command group kind. If the ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["kubernetes"]}," or"," ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["openshift"]}," component uses an image built by an image component"," ","defined in the devfile, you can create a composite ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["deploy"]}," command"," ","to build the image and deploy the Kubernetes or openshift component."," ","For more information on ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["deploy"]}," commands, see ",{"$$mdtype":"Tag","name":"Link","attributes":{"href":"./adding-a-command-group"},"children":["adding a command group"]},"."]}]}]}],"frontmatter":{"title":"Adding a kubernetes or openshift component","description":"Adding a kubernetes or openshift component"},"file":{"path":"/docs/2.2.0-alpha/adding-a-kubernetes-or-openshift-component.md"}}},"__N_SSG":true}