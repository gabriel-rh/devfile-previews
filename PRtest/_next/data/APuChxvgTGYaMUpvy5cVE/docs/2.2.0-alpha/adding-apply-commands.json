{"pageProps":{"markdoc":{"content":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":["Use the the ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["apply"]}," command to apply a given component definition,"," ","usually a ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["kubernetes"]},", ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["openshift"]}," or an ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["image"]}," component. Apply"," ","commands are also typically bound to ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["preStart"]}," and ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["postStop"]}," events."]},{"$$mdtype":"Tag","name":"ol","attributes":{},"children":[{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":["Define the ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["apply"]}," command to apply a given component. In the"," ","following example, two apply commands reference an ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["image"]}," component"," ","and a ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["kubernetes"]}," component to build a docker image and to apply"," ","the deployment YAML for an outerloop scenario."]},{"$$mdtype":"Tag","name":"Fence","attributes":{"language":"yaml","filename":"devfile.yaml"},"children":["schemaVersion: 2.2.0\nmetadata:\n  name: python\n  version: 1.0.0\n  provider: Red Hat\n  supportUrl: https://github.com/devfile-samples/devfile-support#support-information\n  attributes:\n    alpha.dockerimage-port: 8081\nparent:\n  id: python\n  registryUrl: 'https://registry.devfile.io'\ncomponents:\n  - name: outerloop-build\n    image:\n      imageName: python-image:latest\n      dockerfile:\n        uri: docker/Dockerfile\n        buildContext: .\n        rootRequired: false\n  - name: outerloop-deploy\n    kubernetes:\n      uri: outerloop-deploy.yaml\ncommands:\n  - id: build-image\n    apply:\n      component: outerloop-build\n  - id: deployk8s\n    apply:\n      component: outerloop-deploy\n  - id: deploy\n    composite:\n      commands:\n        - build-image\n        - deployk8s\n      group:\n        kind: deploy\n        isDefault: true\n"]}]}]}],"frontmatter":{"title":"Adding apply commands","description":"Adding apply commands"},"file":{"path":"/docs/2.2.0-alpha/adding-apply-commands.md"}}},"__N_SSG":true}