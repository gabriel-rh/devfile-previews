{"pageProps":{"markdoc":{"content":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":["This section describes how to add one or more projects to a devfile."]},{"$$mdtype":"Tag","name":"h2","attributes":{"id":"prerequisites"},"children":["Prerequisites"]},{"$$mdtype":"Tag","name":"ul","attributes":{},"children":[{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":[{"$$mdtype":"Tag","name":"Link","attributes":{"href":"./versions"},"children":["Adding schema version"]}]}]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":[{"$$mdtype":"Tag","name":"Link","attributes":{"href":"./metadata"},"children":["Adding a name"]}]}]}]},{"$$mdtype":"Tag","name":"h2","attributes":{"id":"procedure"},"children":["Procedure"]},{"$$mdtype":"Tag","name":"ol","attributes":{},"children":[{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":["Add a ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["projects"]}," section in the devfile, containing a list of one or"," ","more projects."]},{"$$mdtype":"Tag","name":"Fence","attributes":{"language":"yaml","title":"A minimal devfile with one single project","filename":"devfile.yaml"},"children":["schemaVersion: 2.1.0\nmetadata:\n  name: petclinic-dev-environment\n  version: 1.0.0\nprojects:\n  - name: petclinic\n    git:\n      remotes:\n        origin: \"https://github.com/spring-projects/spring-petclinic.git\"\n      checkoutFrom:\n        revision: main\n"]},{"$$mdtype":"Tag","name":"Fence","attributes":{"language":"yaml","title":"A devfile with multiple projects","filename":"devfile.yaml"},"children":["schemaVersion: 2.1.0\nmetadata:\n  name: example-devfile\n  version: 1.0.0\nprojects:\n- name: frontend\n  git:\n    remotes:\n      origin: \"https://github.com/acmecorp/frontend.git\"\n- name: backend\n  git:\n    remotes:\n      origin: \"https://github.com/acmecorp/backend.git\"\n"]}]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":["For each project, define an unique value for the mandatory ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["name"]}," ","attribute."]}]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":["For each project, define a mandatory source of either the ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["git"]}," or"," ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["zip"]}," type."]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["Projects with sources in Git. ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["checkoutFrom"]}," refers to the branch"," ","being used."]},{"$$mdtype":"Tag","name":"Fence","attributes":{"language":"yaml","title":"git","filename":"devfile.yaml"},"children":["projects:\n  - name: my-project1\n    git:\n      remotes:\n        origin: \"https://github.com/my-org/project1.git\"\n      checkoutFrom:\n        revision: main           \n"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["Projects with sources in a ZIP archive. ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["location"]}," refers to the URL"," ","of a ZIP file."]},{"$$mdtype":"Tag","name":"Fence","attributes":{"language":"yaml","title":"zip","filename":"devfile.yaml"},"children":["source:\n    zip:\n      location: http://host.net/path/project-src.zip\n"]}]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":["For each project, define the optional ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["clonePath"]}," attribute to"," ","specify the path into which the project is to be cloned. The path"," ","must be relative to the ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["/projects/"]}," directory, and it cannot leave"," ","the ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["/projects/"]}," directory. The default value is the project name."]},{"$$mdtype":"Tag","name":"Fence","attributes":{"language":"yaml","title":"Defining the clonePath attribute","filename":"devfile.yaml"},"children":["schemaVersion: 2.1.0\nmetadata:\n  name: my-project-dev\n  version: 2.0.0\nprojects:\n  - name: my-project-resource\n    clonePath: resources/my-project\n    zip:\n      location: http://host.net/path/project-res.zip\n  - name: my-project2\n      git:\n        remotes:\n          origin: \"https://github.com/my-org/project2.git\"\n        checkoutFrom:\n          revision: develop\n"]}]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":["For each project, define the optional ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["sparseCheckoutDir"]}," attribute"," ","to populate the project sparsely with selected directories."]},{"$$mdtype":"Tag","name":"Callout","attributes":{"title":"Note!","type":"note"},"children":[{"$$mdtype":"Tag","name":"ul","attributes":{},"children":[{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":["Set to ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["/my-module/"]}," to create only the root ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["my-module"]}," ","directory (and its content)."]}]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":["Omit the leading slash (",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["my-module/"]},") to create all ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["my-module"]}," ","directories that exist in the project. Including, for example,"," ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["/addons/my-module/"]},"."]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["The trailing slash indicates that only directories with the"," ","given name (including their content) are created."]}]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":["Use wildcards to specify more than one directory name. For"," ","example, setting ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["module-*"]}," checks out all directories of the"," ","given project that start with ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["module-"]},"."]}]}]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["For more information, see ",{"$$mdtype":"Tag","name":"Link","attributes":{"href":"https://git-scm.com/docs/git-read-tree#_sparse_checkout"},"children":["Sparse checkout in Git"," ","documentation"]},"."]}]}]}]},{"$$mdtype":"Tag","name":"h2","attributes":{"id":"additional-resources"},"children":["Additional resources"]},{"$$mdtype":"Tag","name":"ul","attributes":{},"children":[{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":[{"$$mdtype":"Tag","name":"Link","attributes":{"href":"./devfile-schema"},"children":["API reference"]}]}]},{"$$mdtype":"Tag","name":"li","attributes":{},"children":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":[{"$$mdtype":"Tag","name":"Link","attributes":{"href":"./resources"},"children":["Devfile resources"]}]}]}]}],"frontmatter":{"title":"Adding projects","description":"Adding projects"},"file":{"path":"/docs/2.1.0/adding-projects.md"}}},"__N_SSG":true}